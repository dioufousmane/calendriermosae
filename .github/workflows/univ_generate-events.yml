name: GÃ©nÃ©ration automatique de l'EDT UNIV MOSAE 1

on:
  workflow_dispatch:  # Lancement manuel depuis GitHub

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Cloner le dÃ©pÃ´t (branche main)
        uses: actions/checkout@v3

      - name: ğŸ Installer Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸ“¦ Installer les dÃ©pendances
        run: |
          pip install ics pytz requests

      - name: âš™ï¸ ExÃ©cuter le script Python
        run: python esgt_generate_events.py

      - name: ğŸ” Configurer le dÃ©pÃ´t avec le token GitHub
        run: |
          git remote set-url origin https://x-access-token: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@github.com/dioufousmane/calendriermosae.git
