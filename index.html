<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="./icon.png">
  <title>EDT MOSAE 1 - ESGT et UNIV</title>

  <!-- Font Awesome (une seule fois !) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Ton style CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- ‚úÖ NAV bien plac√©e dans le body -->
  <nav style="background-color: #2c3e50; padding: 10px; text-align: center;">
    <a href="index.html" style="color: white; margin: 0 15px; text-decoration: none; font-weight: bold;">
      <i class="fa-solid fa-calendar-check"></i> MOSAE 1
    </a>
    <a href="mosae2.html" style="color: white; margin: 0 15px; text-decoration: none; font-weight: bold;">
      <i class="fa-solid fa-calendar"></i> MOSAE 2
    </a>
  </nav>

  <h1><i class="fa-solid fa-calendar-days"></i> Calendrier du MOSAE 1 ‚Äì 
    <span class="badge-esgt">ESGT</span> & 
    <span class="badge-univ">UNIV</span>
  </h1>

  <h2 id="weekLabel"></h2>

  <div class="calendar-controls">
    <label><input type="checkbox" checked onchange="toggleCalendar('ESGT')"> ESGT</label>
    <label><input type="checkbox" checked onchange="toggleCalendar('UNIV')"> UNIV</label>
    <button onclick="prevWeek()">‚¨ÖÔ∏è Semaine pr√©c√©dente</button>
    <button onclick="triggerWorkflow()">üîÑ Rafra√Æchir les √©v√©nements</button>
    <button onclick="nextWeek()">‚û°Ô∏è Semaine suivante</button>
  </div>

  <div id="status" class="status-message"></div>

  <div id="calendarGrid" class="calendar-grid"></div>

  <style>
    .status-message {
      text-align: center;
      font-weight: bold;
      color: #2c3e50;
      margin: 1rem 0;
    }
  </style>

  <!-- ‚úÖ Scripts √† la fin -->
  <script src="script.js"></script>
  <script>
    if (typeof events === 'undefined') var events = {};

Promise.all([
  fetch('esgt_events.json').then(res => res.json()),
  fetch('univ_events.json').then(res => res.json())
])
.then(([esgt, univ]) => {
  events['ESGT'] = esgt;
  events['UNIV'] = univ;
  createCalendarGrid();
});

  </script>
</body>
</html>
