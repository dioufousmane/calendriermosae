<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Calendrier ESGT et UNIV</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Calendrier Semaine â€“ ESGT et UNIV</h1>
    <h2 id="weekLabel"></h2>

    <div class="calendar-controls">
        <label><input type="checkbox" checked onchange="toggleCalendar('ESGT')"> ESGT</label>
        <label><input type="checkbox" checked onchange="toggleCalendar('UNIV')"> UNIV</label>
        <!--<button id="generateBtn">ğŸ” RegÃ©nÃ©rer les Ã©vÃ©nements</button>-->
    </div>

    <div id="status" class="status-message"></div>

    <div class="calendar-grid" id="calendarGrid">
        <!-- Grille de calendrier injectÃ©e par JS -->
    </div>

    <div class="week-navigation">
        <button onclick="prevWeek()">â¬…ï¸ Semaine prÃ©cÃ©dente</button>
        <!-- <button onclick="goToCurrentWeek()">ğŸ“… Semaine actuelle</button> -->
        <button onclick="nextWeek()">â¡ï¸ Semaine suivante</button>
    </div>

    <script src="script.js"></script>
    <script>
        document.getElementById("generateBtn").addEventListener("click", () => {
            const status = document.getElementById("status");
            status.textContent = "â³ GÃ©nÃ©ration en cours...";

            fetch("/generate-json", { method: "POST" })
                .then(res => res.json())
                .then(data => {
                    status.textContent = data.message || "âœ… Mise Ã  jour rÃ©ussie.";
                })
                .catch(err => {
                    status.textContent = "âŒ Erreur : " + err;
                });
        });
    </script>
    <script>"./all_events.js"</script>
</body>
</html>
